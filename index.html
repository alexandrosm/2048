<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2048</title>
    <meta name="description" content="Play the addictive 2048 puzzle game! Join the tiles to get to the 2048 tile!">
    <meta name="theme-color" content="#000000">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <!-- Adding Tailwind CSS class utility hint -->
    <meta name="tailwind-css" content="enabled">
</head>

<body class="bg-[#faf8ef] text-[#776e65] flex justify-center items-center min-h-screen p-3 transition-colors">
    <div class="w-full max-w-[95vh] flex flex-col items-center">
        <header class="flex justify-between items-center mb-5 w-full">
            <h1 class="text-[clamp(40px,10vw,80px)] font-bold m-0 text-[#776e65]">2048</h1>
            <div class="flex gap-3">
                <div class="bg-[#bbada0] p-[15px_25px] rounded text-white text-center min-w-[100px]">
                    <span class="text-[13px] block">SCORE</span>
                    <span id="score" class="text-[25px] font-bold">0</span>
                </div>
                <div class="bg-[#bbada0] p-[15px_25px] rounded text-white text-center min-w-[100px]">
                    <span class="text-[13px] block">BEST</span>
                    <span id="best-score" class="text-[25px] font-bold">0</span>
                </div>
            </div>
        </header>

        <div class="mb-5 w-full text-center">
            <!-- Game instructions removed -->
        </div>

        <div class="relative mb-4 w-full flex justify-center">
            <div class="game-message">
                <p></p>
                <div class="flex justify-center">
                    <button id="retry-button"
                        class="bg-transparent border-0 px-5 py-2.5 font-bold cursor-pointer text-base hover:scale-110 active:scale-95 transition-transform">Try
                        again</button>
                </div>
            </div>

            <div class="grid-container">
                <!-- Grid cells will be created with JavaScript -->
            </div>

            <div class="tile-container"></div>
        </div>

        <!-- Game control buttons -->
        <div class="flex justify-center gap-5 mb-7 w-full">
            <button id="undo-button"
                class="w-12 h-12 flex justify-center items-center p-0 bg-transparent border-0 cursor-pointer hover:scale-110 active:scale-95 transition-transform disabled:hidden"
                title="Undo">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor"
                        d="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z">
                    </path>
                </svg>
            </button>
            <button id="restart-button"
                class="w-12 h-12 flex justify-center items-center p-0 bg-transparent border-0 cursor-pointer hover:scale-110 active:scale-95 transition-transform"
                title="Restart">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="currentColor"
                        d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z">
                    </path>
                </svg>
            </button>
        </div>
    </div>

    <!-- Theme slider at bottom of page -->
    <div class="bottom-theme-control">
        <input type="range" id="theme-slider" min="0.0" max="1" step="0.05" value="1">
    </div>

    <script src="script.js"></script>
    <script>
        // Register service worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>

</html>